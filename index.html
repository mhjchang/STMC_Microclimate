<!DOCTYPE html>
<html lang="en">
	
	<head>
		<title>STMC_UrbanMet</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<link type="text/css" rel="stylesheet" href="main.css">
	</head>
	
	<body>
	
		<div id="container"></div>
		
		<div id="titel">
			<h2>香港大學 x 沙循 校園微氣候研究</h2>
			<h2>HKU x STMC Campus Microclimate Study</h2>
			<h6>研究員: 張文曦 (2015年沙循畢業生) <br/> 現為香港大學地理系博士生 <br/> Researcher: Jeffrey Chang (2015 STMC Alumni) <br/>        Currently PhD Candidate at HKU Dept. of Geography</h6>
			<h6>Version 20231209</h6>
		</div>
		
		<div id="logo">
			<img src="https://raw.githubusercontent.com/mhjchang/STMC_Microclimate/master/small_demo2.svg">
		</div>
		
		<div class="circleLeft" id="infoBtn"></div>

		<svg id="info" width="3em" height="3em" viewBox="0 0 16 16" fill="#FFFFFF">
			<path fill-rule="evenodd" d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
			<path d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z"/>
			<rect x="2" y="2" width="8" height="8"/>
		</svg>
		
		<div class="circleRight" id="mailBtn">
			<svg id="mail" viewBox="0 0 16 16" fill="#FFFFFF">
				<path fill-rule="evenodd" d="M14 3H2a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z"/>
				<path d="M.05 3.555C.017 3.698 0 3.847 0 4v.697l5.803 3.546L0 11.801V12c0 .306.069.596.192.856l6.57-4.027L8 9.586l1.239-.757 6.57 4.027c.122-.26.191-.55.191-.856v-.2l-5.803-3.557L16 4.697V4c0-.153-.017-.302-.05-.445L8 8.414.05 3.555z"/>
			</svg>
		</div>
		
		<div class="infomodal" id="infomodal">
			<div class="modal-content">
				<span class="infoclose">&times;</span>
				<p><b> 公民科學應用 Citizen Science Applications </b></p><br>
				<p> 研究結合了同學DIY拼砌的氣象觀測儀器、以及由香港大學自行設計的微氣候監測儀，於校園內不同角落中量度相關氣象資訊，讓同學可以一同參與於科學實驗之中。 <br/> The research integrates DIY sensors by students and the professional microclimate data logger from HKU, to conduct the comprehensive fieldwork study at school campus. We aims to provide students the opportunities to participate in scientific studies and better understand their own campus.</p></br>
				<p><img src="https://raw.githubusercontent.com/mhjchang/STMC_Microclimate/master/Part11.png"></p>
			</div>
		</div>

		<div class="infomodal2" id="infomodal2">
			<div class="modal-content">
				<span class="infoclose">&times;</span>
				<p><b> 公民科學應用 Citizen Science Applications </b></p><br>
				<p> 研究結合了同學DIY拼砌的氣象觀測儀器、以及由香港大學自行設計的微氣候監測儀，於校園內不同角落中量度相關氣象資訊，讓同學可以一同參與於科學實驗之中。 <br/> The research integrates DIY sensors by students and the professional microclimate data logger from HKU, to conduct the comprehensive fieldwork study at school campus. We aims to provide students the opportunities to participate in scientific studies and better understand their own campus.</p></br>
				<p><img src="https://raw.githubusercontent.com/mhjchang/STMC_Microclimate/master/Part1.png"></p>
			</div>
		</div>
		
		<div class="mailmodal" id="mailmodal">
			<div class="modal-content">
				<span class="mailclose">&times;</span>
				<p><b>如有任何建議或查詢 歡迎於下方留言，還望各位不吝賜教。(歡迎留下聯絡方式及稱呼) <br/> For any enquiry and recommendation, please do not hestitate to leave your comments here <br/> (You may also leave your contact info for further discussion)</b></p><br>
				<form action="mailto:mhjchang@connect.hku.hk" method="post" target="_top">
				<textarea></textarea><br><br>
				<input type="Submit" name="傳送 Submit" value="傳送 Submit">
				</form>
			</div>
		</div>
		
		<script>
		
		//INFOMODAL
		
		// Get the modal
		var infomodal = document.getElementById("infomodal");

		// Get the button that opens the modal
		var infobtn = document.getElementById("infoBtn");

		// Get the <span> element that closes the modal
		var infospan = document.getElementsByClassName("infoclose")[0];

		// When the user clicks on the button, open the modal
		infobtn.onclick = function() {
		infomodal.style.display = "block";
		}

		// When the user clicks on <span> (x), close the modal
		infospan.onclick = function() {
		infomodal.style.display = "none";
		}

		// When the user clicks anywhere outside of the modal, close it
		window.onclick = function(event) {
		if (event.target == infomodal) {
		infomodal.style.display = "none";
		}}
		
		//MAILMODAL
		
		// Get the modal
		var mailmodal = document.getElementById("mailmodal");

		// Get the button that opens the modal
		var mailbtn = document.getElementById("mailBtn");

		// Get the <span> element that closes the modal
		var mailspan = document.getElementsByClassName("mailclose")[0];

		// When the user clicks on the button, open the modal
		mailbtn.onclick = function() {
		mailmodal.style.display = "block";
		}

		// When the user clicks on <span> (x), close the modal
		mailspan.onclick = function() {
		mailmodal.style.display = "none";
		}

		// When the user clicks anywhere outside of the modal, close it
		window.onclick = function(event) {
		if (event.target == mailmodal) {
		mailmodal.style.display = "none";
		}}
		
		</script>
		
		<script type="module">

			import * as THREE from './three119/build/three.module.js';

			import { ColladaLoader } from './three119/examples/jsm/loaders/ColladaLoader.js';
			
			import { OrbitControls } from './three119/examples/jsm/controls/OrbitControls.js';
			
			var container, clock;
			var camera, controls, scene, renderer, collada, simplegeometry;

			init();
			animate();

			function init() {

				container = document.getElementById( 'container' );

				camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.1, 1000 );
				camera.position.set( 120, 120, 150 );
				//camera.lookAt( 0, 0, 0 );

				scene = new THREE.Scene();

				scene.background = new THREE.Color( 0x003F57 );
					
				clock = new THREE.Clock();

				// loading manager

				var loadingManager = new THREE.LoadingManager( function () {

					scene.add( simplegeometry );

				} );

				// collada

				var loader = new ColladaLoader( loadingManager );
				loader.load( 'https://raw.githubusercontent.com/mhjchang/STMC_Microclimate/master/Output_STMC_cad.dae', function ( collada ) {

					simplegeometry = collada.scene;
					
				} );
	
				//

				
				var directionalLight = new THREE.DirectionalLight( 0xffffff, 0.7 );
				directionalLight.position.set( 100, 100, 100 ).normalize();
				scene.add( directionalLight );

				var directionalLight = new THREE.DirectionalLight( 0xffffff, 0.7 );
				directionalLight.position.set( -100, 100,100 ).normalize();
				scene.add( directionalLight );
				
				//

				renderer = new THREE.WebGLRenderer({ antialias: true });
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( window.innerWidth, window.innerHeight );
				container.appendChild( renderer.domElement );

				// controls

				controls = new OrbitControls( camera, renderer.domElement );

				//controls.addEventListener( 'change', render ); // call this only in static scenes (i.e., if there is no animation loop)
				//controls.autoRotate = true;
				controls.enableDamping = true; // an animation loop is required when either damping or auto-rotation are enabled
				controls.dampingFactor = 0.05;

				controls.screenSpacePanning = false;

				controls.minDistance = 10;
				controls.maxDistance = 500;

				controls.maxPolarAngle = Math.PI / 2;
				
				//

				window.addEventListener( 'resize', onWindowResize, false );

			}

			function onWindowResize() {

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

			}

			function animate() {

				requestAnimationFrame( animate );

				controls.update();
				
				render();

			}

			function render() {
			
				renderer.render( scene, camera );

			}

		</script>
	</body>
</html>
